# Fall Core å¤šæ¨¡å—å‘å¸ƒæŒ‡å—

åœ¨å‘å¸ƒæ–°ç‰ˆæœ¬åˆ° pub.dev ä¹‹å‰ï¼Œè¯·ç¡®ä¿å®Œæˆä»¥ä¸‹æ‰€æœ‰æ£€æŸ¥é¡¹ã€‚Fall Core é¡¹ç›®é‡‡ç”¨å¤šæ¨¡å—æ¶æ„ï¼ŒåŒ…å«ä¸‰ä¸ªç‹¬ç«‹çš„åŒ…ï¼š

- **fall_core_base** - æ ¸å¿ƒæ³¨è§£å’ŒåŸºç¡€å·¥å…·
- **fall_core_gen** - ä»£ç ç”Ÿæˆå™¨
- **fall_core_main** - è¿è¡Œæ—¶æ ¸å¿ƒ

## ğŸ—ï¸ æ¨¡å—æ¶æ„ä¸å‘å¸ƒé¡ºåº

ç”±äºæ¨¡å—é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå‘å¸ƒå¿…é¡»æŒ‰ä»¥ä¸‹é¡ºåºè¿›è¡Œï¼š

```mermaid
graph TD
    A[fall_core_base] --> B[fall_core_gen]
    A --> C[fall_core_main]
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style C fill:#e8f5e8
```

**æ¨èå‘å¸ƒé¡ºåº**ï¼š
1. `fall_core_base` ï¼ˆåŸºç¡€æ¨¡å—ï¼Œé›¶ä¾èµ–ï¼‰
2. `fall_core_gen` ï¼ˆä¾èµ– fall_core_baseï¼‰
3. `fall_core_main` ï¼ˆä¾èµ– fall_core_baseï¼‰

## ğŸ“‹ ä»£ç è´¨é‡æ£€æŸ¥

å¯¹æ¯ä¸ªæ¨¡å—éƒ½è¦è¿›è¡Œä»¥ä¸‹æ£€æŸ¥ï¼š

### fall_core_base
- [ ] **ä»£ç åˆ†æé€šè¿‡**: `cd fall_core_base && flutter analyze` æ— é”™è¯¯å’Œè­¦å‘Š
- [ ] **æµ‹è¯•é€šè¿‡**: æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
- [ ] **é›¶å¤–éƒ¨ä¾èµ–**: ç¡®ä¿ä»…ä¾èµ– Flutter SDK å’Œ metaåŒ…
- [ ] **æ³¨è§£å®Œæ•´æ€§**: æ‰€æœ‰æ ¸å¿ƒæ³¨è§£å®Œæ•´å¯ç”¨

### fall_core_gen
- [ ] **ä»£ç åˆ†æé€šè¿‡**: `cd fall_core_gen && flutter analyze` æ— é”™è¯¯å’Œè­¦å‘Š
- [ ] **æµ‹è¯•é€šè¿‡**: ç”Ÿæˆå™¨å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] **ä»£ç ç”Ÿæˆæµ‹è¯•**: ä½¿ç”¨ `dart run build_runner build` æµ‹è¯•ç”ŸæˆåŠŸèƒ½
- [ ] **ä¾èµ–æ£€æŸ¥**: buildã€source_gen ç­‰ä¾èµ–ç‰ˆæœ¬æ­£ç¡®

### fall_core_main
- [ ] **ä»£ç åˆ†æé€šè¿‡**: `cd fall_core_main && flutter analyze` æ— é”™è¯¯å’Œè­¦å‘Š
- [ ] **æµ‹è¯•é€šè¿‡**: AOPå’Œä¾èµ–æ³¨å…¥æµ‹è¯•é€šè¿‡
- [ ] **GetXé›†æˆ**: ä¸GetXçš„é›†æˆæ­£å¸¸å·¥ä½œ
- [ ] **Hookç³»ç»Ÿ**: æ‰€æœ‰Hookç±»å‹æ­£å¸¸å·¥ä½œ

### é€šç”¨æ£€æŸ¥
- [ ] **ä»£ç æ ¼å¼åŒ–**: ä½¿ç”¨ `dart format .` æ ¼å¼åŒ–æ‰€æœ‰ä»£ç 
- [ ] **ä¾èµ–æ£€æŸ¥**: ç¡®ä¿æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬æ˜¯æœ€æ–°ç¨³å®šç‰ˆæœ¬

## ğŸ“š æ–‡æ¡£æ£€æŸ¥

### å„æ¨¡å—æ–‡æ¡£
- [ ] **fall_core_base/README.md**: æ ¸å¿ƒæ³¨è§£å’Œå·¥å…·ä½¿ç”¨è¯´æ˜
- [ ] **fall_core_gen/README.md**: ä»£ç ç”Ÿæˆå™¨é…ç½®å’Œä½¿ç”¨æŒ‡å—
- [ ] **fall_core_main/README.md**: AOPå’Œä¾èµ–æ³¨å…¥åŠŸèƒ½è¯´æ˜
- [ ] **æ ¹ç›®å½•README.md**: æ›´æ–°æ•´ä½“æ¶æ„å’Œå¿«é€Ÿå¼€å§‹æŒ‡å—

### ç‰ˆæœ¬å˜æ›´è®°å½•
- [ ] **fall_core_base/CHANGELOG.md**: è®°å½•æ ¸å¿ƒæ³¨è§£å˜æ›´
- [ ] **fall_core_gen/CHANGELOG.md**: è®°å½•ç”Ÿæˆå™¨å˜æ›´
- [ ] **fall_core_main/CHANGELOG.md**: è®°å½•è¿è¡Œæ—¶åŠŸèƒ½å˜æ›´

### APIæ–‡æ¡£
- [ ] **dartdocæ³¨é‡Š**: ç¡®ä¿æ‰€æœ‰å…¬å…±APIéƒ½æœ‰å®Œæ•´çš„dartdocæ³¨é‡Š
- [ ] **ä½¿ç”¨ç¤ºä¾‹**: æ¯ä¸ªæ¨¡å—éƒ½åŒ…å«è¯¦ç»†çš„ä½¿ç”¨ç¤ºä¾‹

## ğŸ”§ ç‰ˆæœ¬ç®¡ç†

### ç‰ˆæœ¬å·ç®¡ç†
- [ ] **ç‰ˆæœ¬å·åŒæ­¥**: æ‰€æœ‰ä¸‰ä¸ªæ¨¡å—ä½¿ç”¨ç›¸åŒçš„ç‰ˆæœ¬å·
- [ ] **ä½¿ç”¨ç‰ˆæœ¬åŒæ­¥è„šæœ¬**: æ¨èä½¿ç”¨è„šæœ¬ç»Ÿä¸€æ›´æ–°ç‰ˆæœ¬å·
  ```bash
  # Linux/macOS
  ./scripts/sync_version.sh
  
  # Windows
  scripts\sync_version.bat
  ```
- [ ] **è¯­ä¹‰åŒ–ç‰ˆæœ¬**: éµå¾ª [Semantic Versioning](https://semver.org/lang/zh-CN/)
  - ä¸»ç‰ˆæœ¬å· (X.y.z): ä¸å…¼å®¹çš„ API ä¿®æ”¹
  - æ¬¡ç‰ˆæœ¬å· (x.Y.z): å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
  - ä¿®è®¢å· (x.y.Z): å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

### pubspec.yaml æ£€æŸ¥
å¯¹æ¯ä¸ªæ¨¡å—çš„ pubspec.yaml è¿›è¡Œæ£€æŸ¥ï¼š

- [ ] **ç‰ˆæœ¬å·æ›´æ–°**: åœ¨æ‰€æœ‰æ¨¡å—çš„ pubspec.yaml ä¸­æ›´æ–°ç‰ˆæœ¬å·
- [ ] **æ¨¡å—é—´ä¾èµ–**: æ£€æŸ¥fall_core_genå’Œfall_core_mainå¯¹fall_core_baseçš„ä¾èµ–ç‰ˆæœ¬
- [ ] **æè¿°ä¿¡æ¯**: æ¯ä¸ªæ¨¡å—çš„descriptionå‡†ç¡®æè¿°å…¶åŠŸèƒ½
- [ ] **å…ƒæ•°æ®ä¿¡æ¯**: homepageã€repositoryã€topics ç­‰ä¿¡æ¯å®Œæ•´

### Git æ ‡ç­¾ç®¡ç†
- [ ] **æ¨¡å—æ ‡ç­¾**: ä¸ºæ¯ä¸ªæ¨¡å—åˆ›å»ºå¯¹åº”çš„Gitæ ‡ç­¾
  - fall_core_base-v1.0.0
  - fall_core_gen-v1.0.0  
  - fall_core_main-v1.0.0

## ğŸ¯ å‘å¸ƒä¿¡æ¯

- [ ] **æè¿°å®Œæ•´**: pubspec.yaml ä¸­çš„ description å‡†ç¡®æè¿°åŒ…åŠŸèƒ½
- [ ] **ä¸»é¡µé“¾æ¥**: homepage å’Œ repository é“¾æ¥æ­£ç¡®
- [ ] **è¯é¢˜æ ‡ç­¾**: topics åŒ…å«ç›¸å…³å…³é”®è¯
- [ ] **è®¸å¯è¯**: LICENSE æ–‡ä»¶å­˜åœ¨ä¸”é€‚å½“

## ğŸ§ª åŠŸèƒ½æµ‹è¯•

- [ ] **æ ¸å¿ƒåŠŸèƒ½**: æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] **ä¾èµ–æ³¨å…¥**: @Service å’Œ @Auto æ³¨è§£æ­£å¸¸å·¥ä½œ
- [ ] **AOP åŠŸèƒ½**: Hook ç³»ç»Ÿæ­£å¸¸å·¥ä½œ
- [ ] **ç¤ºä¾‹åº”ç”¨**: example åº”ç”¨å¯ä»¥æ­£å¸¸æ„å»ºå’Œè¿è¡Œ

## ğŸ“¦ å‘å¸ƒå‡†å¤‡

- [ ] **å¹²è¿è¡Œæµ‹è¯•**: `dart pub publish --dry-run` é€šè¿‡
- [ ] **å‘å¸ƒæƒé™**: ç¡®ä¿æœ‰ pub.dev å‘å¸ƒæƒé™
- [ ] **ç½‘ç»œè¿æ¥**: ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š

## ğŸš€ å‘å¸ƒåéªŒè¯

- [ ] **åŒ…é¡µé¢æ£€æŸ¥**: åœ¨ pub.dev ä¸Šæ£€æŸ¥åŒ…é¡µé¢æ˜¾ç¤ºæ­£ç¡®
- [ ] **æ–‡æ¡£æ¸²æŸ“**: ç¡®ä¿æ–‡æ¡£åœ¨ pub.dev ä¸Šæ­£ç¡®æ¸²æŸ“
- [ ] **ä¸‹è½½æµ‹è¯•**: åœ¨æ–°é¡¹ç›®ä¸­æµ‹è¯•åŒ…çš„å®‰è£…å’Œä½¿ç”¨

## ğŸ“ å‘å¸ƒå‘½ä»¤

### æ–¹å¼ä¸€ï¼šä½¿ç”¨å¤šæ¨¡å—å‘å¸ƒè„šæœ¬ï¼ˆæ¨èï¼‰
```bash
# Linux/macOS
chmod +x scripts/publish.sh
./scripts/publish.sh

# Windows
scripts\publish.bat
```

**è„šæœ¬åŠŸèƒ½**ï¼š
- è‡ªåŠ¨æ£€æŸ¥æ‰€æœ‰ä¸‰ä¸ªæ¨¡å—çš„çŠ¶æ€
- æŒ‰ä¾èµ–é¡ºåºè‡ªåŠ¨å‘å¸ƒæ¨¡å—
- è‡ªåŠ¨åˆ›å»ºå’Œæ¨é€Gitæ ‡ç­¾
- å‘å¸ƒé—´éš”ç­‰å¾…ï¼Œé¿å…ç½‘ç»œé—®é¢˜

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨é€ä¸ªå‘å¸ƒ
```bash
# 1. å‘å¸ƒ fall_core_base
cd fall_core_base
flutter clean && flutter pub get
flutter analyze && dart test
dart pub publish --dry-run
dart pub publish
cd ..

# 2. å‘å¸ƒ fall_core_gen
cd fall_core_gen  
flutter clean && flutter pub get
flutter analyze && dart test
dart pub publish --dry-run
dart pub publish
cd ..

# 3. å‘å¸ƒ fall_core_main
cd fall_core_main
flutter clean && flutter pub get
flutter analyze && dart test
dart pub publish --dry-run
dart pub publish
cd ..

# 4. åˆ›å»ºæ ‡ç­¾
git tag fall_core_base-v1.0.0
git tag fall_core_gen-v1.0.0
git tag fall_core_main-v1.0.0
git push origin --tags
```

### æ–¹å¼ä¸‰ï¼šå•ä¸ªæ¨¡å—å‘å¸ƒ
```bash
# é€‰æ‹©æ€§å‘å¸ƒæŸä¸ªæ¨¡å—
cd <module_name>
flutter analyze
dart pub publish --dry-run
dart pub publish
```

## ğŸ”„ å‘å¸ƒåæµç¨‹

### ç«‹å³éªŒè¯
1. **æ£€æŸ¥åŒ…é¡µé¢**: åœ¨ pub.dev ä¸Šæ£€æŸ¥æ‰€æœ‰ä¸‰ä¸ªåŒ…çš„é¡µé¢æ˜¾ç¤ºæ­£ç¡®
   - https://pub.dev/packages/fall_core_base
   - https://pub.dev/packages/fall_core_gen
   - https://pub.dev/packages/fall_core_main
2. **æ–‡æ¡£æ¸²æŸ“**: ç¡®ä¿æ‰€æœ‰æ¨¡å—çš„æ–‡æ¡£åœ¨ pub.dev ä¸Šæ­£ç¡®æ¸²æŸ“
3. **ä¾èµ–å…³ç³»**: éªŒè¯æ¨¡å—é—´ä¾èµ–å…³ç³»æ˜¾ç¤ºæ­£ç¡®

### åŠŸèƒ½æµ‹è¯•
4. **å®‰è£…æµ‹è¯•**: åœ¨æ–°é¡¹ç›®ä¸­æµ‹è¯•å®Œæ•´æ¡†æ¶çš„å®‰è£…å’Œä½¿ç”¨
```yaml
dependencies:
  fall_core_base: ^1.0.0
  fall_core_main: ^1.0.0

dev_dependencies:
  fall_core_gen: ^1.0.0
  build_runner: ^2.7.0
```

5. **é›†æˆæµ‹è¯•**: æµ‹è¯•æ•´ä¸ªæ¡†æ¶çš„åŠŸèƒ½é›†æˆ
   - æ³¨è§£ç³»ç»Ÿæ­£å¸¸å·¥ä½œ
   - ä»£ç ç”Ÿæˆå™¨æ­£å¸¸è¿è¡Œ
   - AOPå’Œä¾èµ–æ³¨å…¥åŠŸèƒ½æ­£å¸¸

### åç»­å·¥ä½œ
6. **æ›´æ–°ç¤ºä¾‹é¡¹ç›®**: ç¡®ä¿ example é¡¹ç›®ä½¿ç”¨æœ€æ–°å‘å¸ƒçš„ç‰ˆæœ¬
7. **å‘å¸ƒå…¬å‘Š**: åœ¨ç›¸å…³ç¤¾åŒºå‘å¸ƒæ–°ç‰ˆæœ¬å…¬å‘Š
8. **ç›‘æ§åé¦ˆ**: å…³æ³¨ GitHub Issues å’Œ pub.dev è¯„åˆ†
9. **æ€§èƒ½ç›‘æ§**: ç›‘æ§ä¸‹è½½é‡å’Œä½¿ç”¨æƒ…å†µ

---

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

1. **å‘å¸ƒä¸å¯æ’¤é”€**: å‘å¸ƒåˆ° pub.dev æ˜¯ä¸å¯æ’¤é”€çš„æ“ä½œï¼Œè¯·ç¡®ä¿åœ¨å‘å¸ƒå‰å®Œæˆæ‰€æœ‰æ£€æŸ¥é¡¹ã€‚

2. **æ¨¡å—ä¾èµ–é¡ºåº**: å¿…é¡»æŒ‰ç…§ fall_core_base â†’ fall_core_gen â†’ fall_core_main çš„é¡ºåºå‘å¸ƒï¼Œå¦åˆ™ä¼šå¯¼è‡´ä¾èµ–é”™è¯¯ã€‚

3. **ç‰ˆæœ¬åŒæ­¥**: å»ºè®®æ‰€æœ‰æ¨¡å—ä¿æŒç›¸åŒçš„ç‰ˆæœ¬å·ï¼Œä¿è¯å…¼å®¹æ€§ã€‚

4. **ç½‘ç»œé—´éš”**: åœ¨å‘å¸ƒå¤šä¸ªæ¨¡å—æ—¶ï¼Œå»ºè®®åœ¨æ¯ä¸ªæ¨¡å—ä¹‹é—´ç­‰å¾… 10-30 ç§’ï¼Œé¿å… pub.dev çš„ç¼“å­˜é—®é¢˜ã€‚

5. **å¤‡ä»½ç­–ç•¥**: å‘å¸ƒå‰å»ºè®®åœ¨å¹²å‡€çš„ Git çŠ¶æ€ä¸‹è¿›è¡Œï¼Œå¹¶ç¡®ä¿æœ‰å®Œæ•´çš„ä»£ç å¤‡ä»½ã€‚